<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>數學填空題</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        #difficulty {
            margin-bottom: 20px;
        }
        #question {
            font-size: 64px; /* 題目字體放大 */
            margin-bottom: 20px;
        }
        #answer {
            font-size: 56px; /* 答案字體放大 */
            color: #333;
            margin-bottom: 20px;
            display: none; /* 初始隱藏答案 */
        }
        button {
            padding: 15px 30px; /* 按鈕更大 */
            font-size: 36px; /* 按鈕字體放大 */
            cursor: pointer;
            margin: 10px;
            border: none;
            border-radius: 8px;
        }
        #easyBtn, #hardBtn {
            background-color: #FF9800;
            color: white;
        }
        #easyBtn:hover, #hardBtn:hover {
            background-color: #F57C00;
        }
        #nextBtn {
            background-color: #4CAF50;
            color: white;
        }
        #nextBtn:hover {
            background-color: #45a049;
        }
        #showAnswerBtn {
            background-color: #008CBA;
            color: white;
        }
        #showAnswerBtn:hover {
            background-color: #007399;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div id="difficulty">
        <button id="easyBtn" onclick="setDifficulty(10)">EASY</button>
        <button id="hardBtn" onclick="setDifficulty(100)">HARD</button>
    </div>
    <div id="question" class="hidden"></div>
    <div id="answer" class="hidden"></div>
    <button id="showAnswerBtn" class="hidden" onclick="showAnswer()">顯示答案</button>
    <button id="nextBtn" class="hidden" onclick="generateQuestion()">下一題</button>

    <script>
        let currentAnswer = 0;
        let maxNumber = 10; // 預設 EASY

        function setDifficulty(max) {
            maxNumber = max;
            document.getElementById('difficulty').classList.add('hidden');
            document.getElementById('question').classList.remove('hidden');
            document.getElementById('showAnswerBtn').classList.remove('hidden');
            document.getElementById('nextBtn').classList.remove('hidden');
            generateQuestion();
        }

        function generateQuestion() {
            const isAddition = Math.random() > 0.5;
            const knownNumber = Math.floor(Math.random() * maxNumber) + 1;
            let result, blankValue;
            let question;

            if (isAddition) {
                // 加法：knownNumber + (   ) = result 或 (   ) + knownNumber = result
                blankValue = Math.floor(Math.random() * (maxNumber - knownNumber)) + 1; // 答案 1~(maxNumber-knownNumber)
                result = knownNumber + blankValue;
                question = Math.random() > 0.5
                    ? `${knownNumber} + (   ) = ${result}`
                    : `(   ) + ${knownNumber} = ${result}`;
                currentAnswer = blankValue;
            } else {
                // 減法：(   ) - knownNumber = result 或 knownNumber - (   ) = result
                if (Math.random() > 0.5) {
                    // (   ) - knownNumber = result
                    result = Math.floor(Math.random() * knownNumber) + 1; // 結果 1~knownNumber
                    blankValue = result + knownNumber; // (   ) = result + knownNumber
                    question = `(   ) - ${knownNumber} = ${result}`;
                    currentAnswer = blankValue;
                } else {
                    // knownNumber - (   ) = result
                    blankValue = Math.floor(Math.random() * (knownNumber - 1)) + 1; // 答案 1~(knownNumber-1)
                    result = knownNumber - blankValue;
                    question = `${knownNumber} - (   ) = ${result}`;
                    currentAnswer = blankValue;
                }
            }

            document.getElementById('question').textContent = question;
            document.getElementById('answer').textContent = '';
            document.getElementById('answer').style.display = 'none';
        }

        function showAnswer() {
            const answerDiv = document.getElementById('answer');
            answerDiv.textContent = `答案：${currentAnswer}`;
            answerDiv.style.display = 'block';
        }
    </script>
</body>
</html>
